worker:
  replicas:
    default: 1
    horizontalpodautoscaler:
      default:
        host_ip: 10.0.200.46
        port: 15692
        metrics_path: /metrics/per-object
        interval: 30s
        metric_name: rabbitmq_queue_messages_ready
        label_name: '{{ .Values.worker.chainId }}_indexation_etl_geth_trace__internal_transfer'
        replicas_maximum: 10
        threshold: 20
  limitsCpu: 0.1
  limitsMemory: 2000Mi
  requestsCpu: 0.1
  requestsMemory: 500Mi
  command: '[ "ethereumetl", "amqp_stream" ]'
  ## Following wars are rendered using tpl separately in template into Envs
  providerURL: '{{ .Values.worker.traceProviderURL }}'
  output: '{{ .Values.worker.chainDB }},http://10.0.200.184:9200,amqp://admin:irPT6oNUT83ekQ@10.0.200.46:5672/dex'
  lag: '0'
  entityTypes: 'geth_trace,internal_transfer,internal_transfer_priced'
  ##
  env:
    ROUTING_KEY: 'block'
    POLLING_PERIOD: '2'
    BATCH_SIZE: '5'
    SERVICE_NAME: 'raw-data-streamer-gethtrace'
    REWRITE_CLICKHOUSE: ''
    MAX_WORKERS: '20'
    BLOCK_BATCH_SIZE: '100'
    MIN_INSERT_BATCH_SIZE: '1'
    QUEUE_NAME: 'geth_trace__internal_transfer'